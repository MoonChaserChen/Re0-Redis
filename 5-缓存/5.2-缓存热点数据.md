# 缓存热点数据
当总数据量太大而无法全部缓存时，有两种策略：

1. 为缓存设置TTL

    这种方式有以下特点：
    - 实现简单
    - 缓存大小不可控，仍然可能导致超出可承受范围 
    
2. 缓存热点数据

    下面介绍的就是这种策略
    
## 缓存热点数据实现
假设总数据量为10亿条，而我们缓存其中访问频率较高的10万条数据。

使用Sorted set，使用其分值表示数据访问次数。当访问数据时，若数据数据在榜单中，则将其分值增加1，若数据在DB中，则将其缓存到榜单中（分值为1）。
每过一段时间，删除榜单排名10万以后的数据，且将榜单留存数据的分值乘以一个小于1的因子（类似于热度随时间下降，有利于新热点数据进入榜单）。
类似于[排行榜](/3-Redis使用/3.6-排行榜.md)，但具有热度衰减性。
