# 主从复制
## 复制机制
- 当Master-Slave正常链接时，Master将会把那些改变数据的命令发送给Slave
- 当Master-Slave链接断开后（比如网络原因），再次重连时Slave将会执行部分再同步，获取到链接断开期间未收到Master的命令
- 当部分再同步不可用时，将会执行全量再同步，通知Master执行BGSAVE命令，并将生成的快照发送给Slave

## 复制模式
- 一个Master可以有多个Slave
- Slave也可以有Slave，但从Redis 4.0开始, sub-slave将会从master接收改变数据的命令
- Redis的复制是非阻塞的，在Slave执行初始化同步或部分再同步时，master照旧可以执行命令
### 异步复制
Redis默认使用异步复制，低延迟高性能。Master将改变数据的命令发送给Slave，不等待Slave的回复；Slave异步回复收到并处理的数据量。

### 同步复制
WAIT