# 分区Partition
用于扩容，突破单机限制，存储更多数据。

## 分区算法
- 业务分区
- Hash算法
- 一致性Hash

## 分区方式
- 客户端分区

    客户端直接计算出Key应在哪个节点。
- 代理

    客户端请求代理Redis，由代理Redis去查询正确的节点、接收replies，并返回给客户端（Twitter开源的Twemproxy采用了这种方式）
- 查询路由

    查询任意一个节点，这个节点将会路由到正常的节点
    
RedisCluster采用混合模式：客户端查询任意一个节点，这个节点告诉客户端正确的节点，由客户端转去请求正确的节点（因此需要客户端支持RedisCluster）

## 分区存在问题
1. 涉及到多个key的操作（包括事务）将不被支持
2. 分区的粒度为key，因此比较大的Hash类型的K-V将会定位到同一节点（可能会导致节点数据量不均匀）
3. 节点的增删将会带来额外的数据迁移工作（目前只有RedisCluster能做到自动迁移）